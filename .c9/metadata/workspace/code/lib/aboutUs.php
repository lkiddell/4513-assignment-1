{"filter":false,"title":"aboutUs.php","tooltip":"/code/lib/aboutUs.php","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":174,"column":8},"action":"insert","lines":["<!DOCTYPE html>","<?php","require_once('lib/helpers/visits-setup.inc.php');","","$browserGateway = new BrowserTableGateway($dbAdapter);","$visitsGateway = new VisitsTableGateway($dbAdapter);","$continentGateway = new ContinentsTableGateway($dbAdapter); ","$deviceBrandGateway = new DeviceBrandTableGateway($dbAdapter);","$countriesGateway = new CountriesTableGateway($dbAdapter);","$allContinent = $continentGateway->findAll();","$allBrowser = $browserGateway->findAll();","$totalVisits = $visitsGateway->getAllCount();","$allDevices = $deviceBrandGateway->findAll();",""," ?>","","\t<html>","\t<!--CSS derives from material design lite CSS framework  https://www.getmdl.io/c-->","","\t<head>","\t\t<link rel=\"stylesheet\" href=\"//storage.googleapis.com/code.getmdl.io/1.0.1/material.blue_grey-light_green.min.css\" />","\t\t<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" />","\t\t<link rel=\"stylesheet\" href=\"style.css\" />","\t\t<script defer src=\"https://code.getmdl.io/1.1.1/material.min.js\"></script>","\t\t<script language=\"javascript\" src=\"lib/helpers/events.js\"></script>","","","\t\t<title>Admin Dashboard</title>","\t</head>","","\t<body>","","\t\t<div class=\"mdl-layout mdl-js-layout mdl-layout--fixed-drawer","            mdl-layout--fixed-header\">","\t\t\t<header class=\"mdl-layout__header\">","\t\t\t\t<div class=\"mdl-layout__header-row\">","\t\t\t\t\t<div class=\"mdl-layout-spacer\"></div>","\t\t\t\t\t<div class=\"mdl-textfield mdl-js-textfield mdl-textfield--expandable","                  mdl-textfield--floating-label mdl-textfield--align-right\">","\t\t\t\t\t\t<label class=\"mdl-button mdl-js-button mdl-button--icon\" for=\"fixed-header-drawer-exp\">","\t\t\t\t\t\t\t<i class=\"material-icons\">search</i>","\t\t\t\t\t\t</label>","\t\t\t\t\t\t<div class=\"mdl-textfield__expandable-holder\">","\t\t\t\t\t\t\t<input class=\"mdl-textfield__input\" type=\"text\" name=\"sample\" id=\"fixed-header-drawer-exp\">","\t\t\t\t\t\t</div>","\t\t\t\t\t</div>","\t\t\t\t</div>","\t\t\t</header>","\t\t\t<div class=\"mdl-layout__drawer\">","\t\t\t\t<span class=\"mdl-layout-title\">Admin Dashboard</span>","\t\t\t\t<nav class=\"mdl-navigation\">","\t\t\t\t\t<a class=\"mdl-navigation__link\" href=\"\">Link</a>","\t\t\t\t\t<a class=\"mdl-navigation__link\" href=\"\">Link</a>","\t\t\t\t\t<a class=\"mdl-navigation__link\" href=\"\">Link</a>","\t\t\t\t\t<a class=\"mdl-navigation__link\" href=\"\">Link</a>","\t\t\t\t</nav>","\t\t\t</div>","","\t\t\t<main class=\"mdl-layout__content\">","\t\t\t\t<div class=\"mdl-grid\">","\t\t\t\t\t<div class=\"mdl-cell mdl-cell--5-col mdl-grid mdl-grid--no-spacing \">","\t\t\t\t\t\t<div class=\"mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col\">","\t\t\t\t\t\t\t<div class=\"mdl-card__title mdl-color--teal-300\">","\t\t\t\t\t\t\t\t<h2 class=\"mdl-card__title-text\">Browsers and % of Visits</h2>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<div class=\"mdl-card__supporting-text\">","","\t\t\t\t\t\t\t\t<?php","                \t\t\t\techo \"<table class='mdl-data-table mdl-js-data-table'>\";","                \t\t\t\techo \"<thead>\";","    \t\t\t\t\t\t\techo \"<tr>\";","      \t\t\t\t\t\t\techo \"<th class='mdl-data-table__cell--non-numeric'>Browser Name</th>\";","      \t\t\t\t\t\t\techo \"<th>% of Visits</th></tr>\";","  \t\t\t\t\t\t\t\techo \"</thead>\";","","                \t\t\t\t$count = 1;","                    \t\t\tforeach ($allBrowser as $row)","                        \t\t{","                            \t\t$browCount = $visitsGateway->getCount($count);                 \t\t","                            \t\t$percentage = ($browCount / $totalVisits) * 100;","                            \t\t$percentage = substr($percentage, 0, 4).\"%\";","                            ","                            \t\techo \"<tr>\";","                            \t\techo \"<td class='mdl-data-table__cell--non-numeric'>\" . $row->name . \"</td>\";","                            \t\techo \"<td>\" . $percentage . \"</td>\";","                            \t\techo \"</tr>\";","                            \t\t$count ++;","                        \t\t}","                 \t\t\t\techo \"</table>\";","                \t\t\t?>","","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t</div>","\t\t\t\t\t\t<div class=\"demo-separator mdl-cell--1-col\"></div>","","\t\t\t\t\t\t<div class=\"mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col\">","\t\t\t\t\t\t\t<div class=\"mdl-card__title mdl-color--light-green-300\">","\t\t\t\t\t\t\t\t<h2 class=\"mdl-card__title-text\">Visits Per Device Brand</h2>","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t<div class=\"mdl-card__supporting-text\">","","\t\t\t\t\t\t\t\t<form action=\"#\" method=\"get\">","\t\t\t\t\t\t\t\t\t<div class=\"mdl-select mdl-js-select mdl-select--floating-label\">","\t\t\t\t\t\t\t\t\t\t<?php ","\t\t\t\t\t\t\t\t\t\t$options =\"\";","    \t\t\t\t\t\t\t\t\t\t\t$dropdown_result=$deviceBrandGateway->getDeviceNameAndCount();","\t\t\t\t\t\t\t\t\t\t\t\tforeach($dropdown_result as $row){","\t\t\t\t\t\t\t\t\t\t\t\t\t$name=$row[\"name\"];","            \t\t\t\t\t\t\t\t\t\t$deviceViewCount=$row[\"Views\"];","            \t\t\t\t\t\t\t\t\t    $options.= \"<option >\" . $name . \"</option>\";","\t","\t","\t\t\t\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t\t\t","        \t\t\t\t\t\t\t\t\t\t","","","    \t\t\t\t\t\t\t\t\t\t?>","\t\t\t\t\t\t\t\t\t\t\t<select class=\"mdl-select__input\" id=\"deviceBrand\" name=\"deviceBrand\" onchange=\"dropdown_change(this)\">","\t\t\t\t\t\t\t\t\t\t\t\t<OPTION VALUE=0>Select a brand</OPTION>","\t\t\t\t\t\t\t\t\t\t\t\t<?php echo $options ?>","\t\t\t\t\t\t\t\t\t\t\t</select>","","","","\t\t\t\t\t\t\t\t\t\t\t<script type=\"text/javascript\">","\t\t\t\t\t\t\t\t\t\t\t\tfunction dropdown_change(e2) {","\t\t\t\t\t\t\t\t\t\t\t\t\tvar string = \"<?php echo $deviceViewCount; ?>\";","\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById(\"visits\").innerHTML = string;","\t\t\t\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t\t\t\t</script>","","\t\t\t\t\t\t\t\t\t\t\t</select>","\t\t\t\t\t\t\t\t\t\t\t<p id=\"visits\"></p>","\t\t\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t\t\t</form>","","\t\t\t\t\t\t\t</div>","\t\t\t\t\t\t</div>","\t\t\t\t\t</div>","","\t\t\t\t\t<div class=\"mdl-cell mdl-cell--7-col mdl-card mdl-shadow--4dp\">","\t\t\t\t\t\t<div class=\"mdl-card__title mdl-color--brown-300\">","\t\t\t\t\t\t\t<h2 class=\"mdl-card__title-text\">Card 3</h2></div>","\t\t\t\t\t\t<div class=\"mdl-card__supporting-text\">","\t\t\t\t\t\t\t<select class=\"mdl-select__input\" id=\"continents\" name=\"continents\" onChange=\"handleOnChange(this);>","                            <?php","                            echo \" <option>Select Continent</option>\"; foreach($allContinent as $row) { echo \"","\t\t\t\t\t\t\t\t<option value='\" . $row->continentCode . \"'> \" . $row->continentName . \"</option>\"; } ?>","","\t\t\t\t\t\t\t\t<script type=text/javascript>","\t\t\t\t\t\t\t\t\tdocument.getElementById('continents').addEventListener('change', displayCountries);","","\t\t\t\t\t\t\t\t\tfunction displayCountries() {","\t\t\t\t\t\t\t\t\t\t<?php $countries = $countriesGateway->getCountryNamesAndCount(\"EU\");  ?>","","\t\t\t\t\t\t\t\t\t\tvar x = document.getElementById('continents').value;","\t\t\t\t\t\t\t\t\t\tdocument.getElementById(\"countries\").innerHTML = x;","\t\t\t\t\t\t\t\t\t}","\t\t\t\t\t\t\t\t</script>","\t\t\t\t\t\t\t</select>","","\t\t\t\t\t\t</div>","\t\t\t\t\t</div>","\t\t\t\t</div>","\t\t\t</main>","\t\t</div>","\t\t<script>","\t\t\twindow.addEventListener(\"load\", loaded());","\t\t</script>","\t</body>","\t<!--Import jQuery before materialize.js-->","","","\t</html>"],"id":1}]]},"ace":{"folds":[],"scrolltop":2009,"scrollleft":0,"selection":{"start":{"row":174,"column":8},"end":{"row":174,"column":8},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":142,"state":"start","mode":"ace/mode/php"}},"timestamp":1456196510654,"hash":"0bc6a5b10412e16f8ba34904b13b3397f44481d2"}